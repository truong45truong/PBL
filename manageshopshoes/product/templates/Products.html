{% extends 'main.html' %}
{% block style %}
{% load static %}
    <link rel="stylesheet" href="{% static 'css/productstyles.css' %}" />
{% endblock %}
{% block content %}
{% load static %}
  <main>
    <div class="banner">
      <header class="position-relative text-center text-white mb-5">
        <img src="https://www.npd.com/wp-content/uploads/2021/05/footwear-banner-1440x480.jpeg" alt="" class="w-100">
        <div class="position-absolute start-50 bottom-50 translate-middle-x w-100 px-3">
          <h1 class="display-6">
            Product
          </h1>
        </div>
      </header>
    </div>
    <div class="container">
        <hr class="w-100">
        <div class="select-sort-content">
          <div class="row">
            <div class="my-3 sortItems w-100">
              <form  class="nav w-100" action="{% url 'product' slug='puma' %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <li class="nav-item text-center col-2 m-0 p-2">
                  <a class="nav-link active text-bg-secondary" aria-current="page" href="#">Relevance</a>
                </li>
                <li class="nav-item text-center col-2 m-0 p-2">
                  <a class="nav-link" href="?latest=1">Latest</a>
                </li>
                <li class="nav-item text-center col-2 m-0 p-2">
                  <a class="nav-link" href="?topsale=1">Top Sale</a>
                </li>
                <li class="nav-item text-center col-2 m-0 p-2">
                  <select name="sortselect" class="form-select price-sort" aria-label="Default select example">
                    <option disabled selected value>All Price</option>
                    <option value="low"><a class="nav-link" href="#">Low to High</a></option>
                    <option value="hight"><a class="nav-link" href="#">High to Low</a></option>
                  </select>
                </li>
                <li class="nav-item text-center col-2 m-0 p-2">
                  <select name="limitselect" class="form-select price-value-sort" aria-label="Default select example">
                    <option disabled selected value>All limit</option>
                    <option value="0-1000000">low 1.000.000</option>
                    <option value="1000000-5000000">1.000.000 - 5.000.000 </option>
                    <option value="5000000-15000000">5.000.000 - 15.000.000</option>
                    <option value="15000000-0"> 15.000.000 High </option>
                  </select>
                </li>
                <li class="nav-item text-center col-2 m-0 p-2">
                  <select name="sexselect" class="form-select sex-sort" aria-label="Default select example">
                    <option disabled selected value>All sex</option>
                    <option value="1">Men</option>
                    <option value="2">Women</option>
                  </select>
                </li>
                <li class="nav-item text-center col-2 m-0 p-2 ">
                  <select name="categoryselect" class="form-select sex-sort" aria-label="Default select example">
                    <option disabled selected value>Category</option>
                    <option  value="Addidas">Addidas</option>
                    <option value="Puma">Puma</option>
                  </select>
                </li>
                <input type="submit">
              </form>
            </div>
          </div>
          <div class="row">
            {% csrf_token %}
            {% for item in page_obj %}
            <div class="col-md-2 col-6 mb-2">
              <div class="position-relative content-col">
                <a href="ProductDetail.html">
                  <img src="/media/photos/products/{{item.photo_products__name}}">
                </a>
                <div class="ribbon new">
                  <div class="theribbon"><p>New</p> </div>
                </div>
                {% if item.prices__sale > 0%}
                  <div class="ribbon sale">
                    <div class="theribbon price-sale"><p>-{{item.prices__sale}} %</p> </div>
                  </div>
                  <p class="position-absolute price-value-product"> {{item.prices__price}} đ</p>
                {% endif %}
                <div class="text-center content-card">
                  <span id="slug-product-detail" class="d-none">{{item.slug}}</span>
                  <p class="name-product" id="name-product-detail" > {{item.name}}</p>
                  {% if item.sex == 0 %}
                  <p class="sex-product">All</p>
                  {% endif %}
                  {% if item.sex == 1 %}
                  <p class="sex-product" id="sex-product-detail">Men</p>
                  {% endif %}
                  {% if item.sex == 2 %}
                  <p class="sex-product">Women</p>
                  {% endif %}
                  <p class="name-product" id="price-total"> {{item.prices__price_total}} đ</p>
                  <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal{{item.slug}}">
                    <i class="fa-solid fa-cart-shopping me-2"></i>Add to cart</button>
                </div>
              </div>
            </div>
            {%endfor%}
            <div class="d-flex">
              <ul class="pagination m-auto">
                <a class="page-link page-pagi" href="?page=1">&laquo; first</a>
                {% if page_obj.has_previous %}
                  <a class="page-link page-pagi" href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}
                {% for page in pages %}
                <li class="page-item"><a class="page-link page-pagi" href="?page={{page}}">{{page}}</a></li>
                {% endfor %}
                {% if page_obj.has_next %}
                  <a class="page-link page-pagi" href="?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}
                <a class="page-link page-pagi" href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
              </ul>
          </div>
          </div>
          
        </div>
      </div>

    </div>
    {% for item in page_obj %}
      <div class="modal fade modalQuickShop" id="exampleModal{{item.slug}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <form action="" class="form">
              <div class="modal-header">
                <a class="modal-title h5 mb-0" href="ProductDetail.html" tabindex="0">{{item.name}}</a>
                <button type="button" class="btn-close btn-close-white close-outside" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body pt-0">
                <div class="border-top w-100 pb-2"></div>
                <div class="row">
                  <div class="col-5">
                    <div class="images modalItemImg">
                      <a href="">
                        <img src="/media/photos/products/{{item.photo_products__name}}" class="d-block w-100" alt="...">
                      </a>
                    </div>
                  </div>
                  <div class="col-7">
                    {% if item.sex == 0 %}
                      <small class="sex-product">All</small>
                    {% endif %}
                    {% if item.sex == 1 %}
                      <small class="sex-product">Men</small>
                    {% endif %}
                    {% if item.sex == 2 %}
                      <small class="sex-product">Women</small>
                    {% endif %} 
                    <h5 class=""><span id="price" name="price_add_to_cart">{{item.prices__price_total}}</span></h5>
                    <div class="row g-3 align-items-center">
                      <label for="selectSize" class="col-auto me-4">Size:</label>
                      <!-- <br> -->
                      <div class="flex-wrap col-auto" role="group" aria-label="Basic radio toggle button group">
                        <input type="radio" class="btn-check" name="options" id="option1" autocomplete="off" checked>
                        <label class="btn btn-outline-secondary" for="option1">35</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option2" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option2">36</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option3" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option3">37</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option4" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option4">38</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option5" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option5">39</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option6" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option6">40</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option7" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option7">41</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option8" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option8">42</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option9" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option9">43</label>
                        
                        <input type="radio" class="btn-check" name="options" id="option10" autocomplete="off">
                        <label class="btn btn-outline-secondary" for="option10">44</label>
                      </div>
                    </div>
                    <br>
                    <!-- <label for="quantityProduct" class="text-muted">Quantity:&nbsp;&nbsp;</label>
                    <input type="number" value="0" size="1" min="0" max="10" id="quantity"/> -->
                    <div class="row g-3 align-items-center">
                        <div class="col-auto">
                            <label for="quantityProduct" class="col-form-label">Quantity:</label>
                        </div>
                        <div class="col-auto">
                          <div class="btn-group" role="group" aria-label="Basic outlined example">
                            <button type="button" class="btn btn-outline-secondary" 
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                              <i class="fas fa-subtract"></i>
                            </button>
                            <input type="number" name="quantityItem" min="0" max="20" size="1" value="0" class="text-center"/>
                            <button type="button" class="btn btn-outline-secondary"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                            </button>
                          </div>
                        </div>
                        <div class="col-auto">
                            <span id="quantityAvail" class="form-text">
                                360 pieces available
                            </span>
                        </div>
                      </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer pb-3">
                <div class="modalAddCart">
                  <button type="button" class="btn btn-primary modalAddCart" id="add-to-cart">
                    <i class="fa-solid fa-cart-shopping me-2"></i>Add to cart</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    {%endfor%}
  </main>

{% endblock %}
{% block javastript %}
{% load static %}
<script src="/static/js/products.js"></script>
{% endblock %}